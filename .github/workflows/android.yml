name: Android CI

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: set up JDK 1.8
      uses: actions/setup-java@v1
      with:
        java-version: 1.8
    - name: Build with Gradle
      run: ./gradlew build
      
      
    - name: Telegram Action
      uses: xinthink/action-telegram@v1.1
      with:
        # The Telegram Bot token
        botToken: $ {{ secrets.telegram_bot_token }}
        # The target to which the message will be sent, can be a Telegram Channel or Group
        chatId: $ {{ secrets.telegram_channel_id }}
        # The current status of the job: job.status, defaults to 'success'
        jobStatus: $ {{ job.status }}
